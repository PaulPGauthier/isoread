# Introduction to isoread

These are the code chunks used in the R packages appendix for the isotopia section.

```{r}
library(knitr)
```


```{r, eval=FALSE}
library(devtools)
install_github('isoread', 'sebkopf', ref = "v0.2")
```

```{r}
library(isotopia)
library(isoread)
file <- isoread(system.file("extdata", "6520__F8-5_5uL_isodat2.cf", package="isoread"), 
                type = "H_CSIA")
```

```{r}
kable(file$get_mass_data()[1:5,], format = "latex")
```


```{r}
library(ggplot2)
file$make_ggplot()
```

```{r}
file$plot_masses(tlim = c(12.3, 12.6), tunits = "min")
```

```{r}
kable(file$get_info("H3factor"), format="latex")
```

```{r}
kable(
subset(file$get_peak_table(), select = c("Peak Nr.", "Status", 
    "Ref. Peak", "Component", "Rt", "Start", "End", "Ampl. 2", 
    "d 2H/1H")),
format = "latex")
```

```{r}
map <- data.frame(Rt = c(940, 1135), Component = c("C16:0 FAME", "C18:0 FAME"), stringsAsFactors=F)
kable(map, format = "latex")
```

```{r}
file$map_peaks(map)
kable(
file$get_peak_by_name(c("C16:0 FAME", "C18:0 FAME"), 
       select = c("Peak Nr.", "Component", "Rt", "Start", "End", "Ampl. 2", "d 2H/1H")),
format = "latex")
```

```{r}
d <- file$get_peak_by_name(c("C16:0 FAME", "C18:0 FAME"), select = "d 2H/1H")
print(d) # delta value
print(switch_notation(to_abundance(d), "percent")) # abundance in percent
```

```{r}
file$plot_refs()
```

